@{
    var returnUrl = string.IsNullOrEmpty(Context.Request.Path) ? "~/" : $"~{Context.Request.Path.Value}";
}
<script src="~/lib/jquery/dist/jquery.min.js" asp-append-version="true"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js" asp-append-version="true"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js" asp-append-version="true"></script>
<script src="~/lib/materializejs/materialize.min.js" asp-append-version="true"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.min.js" asp-append-version="true" async></script>
<script src="~/microsoft/signalr/dist/browser/signalr.min.js" asp-append-version="true" defer=""></script>
<script src="~/js/site.js" asp-append-version="true" defer=""></script>
<script src="~/lib/aspnetcore-custom-validation/aspnetcore-custom-validation.min.js" asp-append-version="true"></script>

<script>
        $(document).ready(() => {
                  $('select[name="culture"]').change((e) => {
                     const locale = $(e.target).select().val();
                     window.location = `@Url.Link("SetLanguage", 
                                            new { culture = "locale", returnUrl = returnUrl, m = DateTime.UnixEpoch.Ticks})`
                                             .replace('locale', locale).replace(/&amp;/g, "&");
                  })}
        );
</script>